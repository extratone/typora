<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Upload Images - Typora Support</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@typora" />
<meta name="twitter:title" content="Upload Images" />
<meta name="twitter:url" content="/Upload-Image/" />
<meta name="twitter:description" content="Summary Warning! Configuration Validate Image Uploader Image Uploaders iPic (macOS, Freemium) uPic (macOS, OpenSource) Picsee (macOS, Freemium) PicGo-Core (Command line) (OpenSource) Install prebuilt binary of PicGo-Core (Linux / Windows) Install PicGo-Core via node package manager (Requires NodeJS runtime) Config PicGo-Core Option 1: Edit the config file Option 2: Config via CLI Use Plugins PicGo.app (Chinese Language Only) Difference between PicGo.app and PicGo-Core (command line) Upgit (Open source &amp; lightweight native, for Windows / Linux / macOS) Custom Use current filename / filepath in custom commands Upload Automatically When Insert Images Global Setting Per-document Setting Usage Upload Selected Image Upload All..." />
<meta name="twitter:image:src" content="http://typora.io/img/twitter-sum.png" />
<meta name="twitter:image" content="http://typora.io/img/twitter-sum.png" />
<meta property="og:url" content="/Upload-Image/" />
<meta property="og:title" content="Upload Images" />
<meta property="og:description" content="Summary Warning! Configuration Validate Image Uploader Image Uploaders iPic (macOS, Freemium) uPic (macOS, OpenSource) Picsee (macOS, Freemium) PicGo-Core (Command line) (OpenSource) Install prebuilt binary of PicGo-Core (Linux / Windows) Install PicGo-Core via node package manager (Requires NodeJS runtime) Config PicGo-Core Option 1: Edit the config file Option 2: Config via CLI Use Plugins PicGo.app (Chinese Language Only) Difference between PicGo.app and PicGo-Core (command line) Upgit (Open source &amp; lightweight native, for Windows / Linux / macOS) Custom Use current filename / filepath in custom commands Upload Automatically When Insert Images Global Setting Per-document Setting Usage Upload Selected Image Upload All..." />
<meta name="og:image" content="http://typora.io/img/twitter-sum.png" />
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />

<link href="assets/css/pure-min.css" rel="stylesheet" />

<link href="assets/css/syntax.css" rel="stylesheet" />
<link href="assets/css/typora-wiki.css" rel="stylesheet" />
<link rel="icon" href="assets/img/favicon-16.png" sizes="16x16" />
<link rel="icon" href="assets/img/favicon-32.png" sizes="32x32" />
<link rel="icon" href="https://support.typora.io/assets/img/favicon-64.png" sizes="64x64" />
<link rel="icon" href="assets/img/favicon-128.png" sizes="128x128" />
<script>
      if (
        window.location.host.indexOf("typora.io") > -1 &&
        window.location.protocol != "https:"
      ) {
        window.location.protocol = "https";
      }
      if (location.host == "support.typora.com.cn") {
        location = `https://support.typoraio.cn${location.pathname}${location.hash}`;
      }
    </script>
</head>
<body>
<style type="text/css">
      body {
        
          font-family: "Merriweather", "PT Serif", Georgia, "Times New Roman",
          "STSong", Serif;
		    
        font-weight: 300;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        color: #2e2e2e;
        line-height: 1.15em;
        font-family: "Open Sans", "Hiragino Sans GB", "Microsoft YaHei",
          "WenQuanYi Micro Hei", sans-serif;
        text-rendering: geometricPrecision;
      }

      #pagecontainer {
        background-color: #fff;
        min-height: calc(100vh - 510px);
        flex: 2;
      }

      #post-content {
        padding-top: 36px;
        border-top: 1px dashed #999999;
        line-height: 1.6rem;
        padding-bottom: 100px;
      }

      #post-content > blockquote:first-child {
        padding-top: 0.4em;
        padding-bottom: 0.4em;
        margin-bottom: 2em;
        margin-left: 0;
      }

      .nav {
        border-bottom: none;
        height: auto;
      }

      .inner-page {
        width: 90%;
        max-width: 800px;
        margin: auto;
      }

      h1 {
        border-bottom: 0;
      }

      #header {
        padding-bottom: 32px;
      }

      #header h1 {
        text-align: center;
        white-space: pre-wrap;
        width: 90%;
        margin: 81px auto 48px auto;
      }

      h1 {
        font-size: 3.6rem;
        letter-spacing: -2px;
        text-indent: -3px;
      }

      h2 {
        margin-top: 2em;
      }

      .pure-menu-active > .pure-menu-link,
      .pure-menu-link:hover,
      .pure-menu-link:focus {
        background-color: initial;
        border: #777 solid 1px;
      }

      .post-meta {
        font-style: italic;
        text-align: center;
        color: #7a7a7a;
      }

      div.highlighter-rouge {
        padding: 8px;
        border: 1px #777 solid;
        line-height: 1.2rem;
        font-family: Menlo, Monaco, "Courier New", monospace;
      }

      div.highlighter-rouge pre {
        font-size: 0.95em;
        overflow: hidden;
        word-break: break-word;
        white-space: pre-wrap;
      }

      a {
        color: #463f5c;
        text-decoration: underline;
      }
    </style>
<header class="pure-menu pure-menu-horizontal nav post-title" id="header">
<div class="gallery">
<ul class="pure-menu-list" style="float: left; margin-left: 1em; position: absolute">
<li class="pure-menu-item pure-menu-active">
<a href="index.html" class="pure-menu-link" id="title-bar-feature-btn">Back</a
            >
</li>
</ul>
</div>
<h1>Upload Images</h1>
<section class="post-meta">
<time>February 22, 2020</time>
by
<span>typora.io</span>
</section>
</header>
<div id="pagecontainer" class="container">
<div id="post-content" class="inner-page"><ul id="markdown-toc">
<li><a href="Upload-Image.html#summary" id="markdown-toc-summary">Summary</a> <ul>
<li><a href="Upload-Image.html#warning" id="markdown-toc-warning">Warning!</a></li>
</ul>
</li>
<li><a href="Upload-Image.html#configuration" id="markdown-toc-configuration">Configuration</a> <ul>
<li><a href="Upload-Image.html#validate-image-uploader" id="markdown-toc-validate-image-uploader">Validate Image Uploader</a></li>
<li><a href="Upload-Image.html#image-uploaders" id="markdown-toc-image-uploaders">Image Uploaders</a> <ul>
<li><a href="Upload-Image.html#ipic-macos-freemium" id="markdown-toc-ipic-macos-freemium">iPic (macOS, Freemium)</a></li>
<li><a href="Upload-Image.html#upic-macos-opensource" id="markdown-toc-upic-macos-opensource">uPic (macOS, OpenSource)</a></li>
<li><a href="Upload-Image.html#picsee-macos-freemium" id="markdown-toc-picsee-macos-freemium">Picsee (macOS, Freemium)</a></li>
<li><a href="Upload-Image.html#picgo-core-command-line-opensource" id="markdown-toc-picgo-core-command-line-opensource">PicGo-Core (Command line) (OpenSource)</a> <ul>
<li><a href="Upload-Image.html#install-prebuilt-binary-of-picgo-core-linux--windows" id="markdown-toc-install-prebuilt-binary-of-picgo-core-linux--windows">Install prebuilt binary of PicGo-Core (Linux / Windows)</a></li>
<li><a href="Upload-Image.html#install-picgo-core-via-node-package-manager-requires-nodejs-runtime" id="markdown-toc-install-picgo-core-via-node-package-manager-requires-nodejs-runtime">Install PicGo-Core via node package manager (Requires NodeJS runtime)</a></li>
<li><a href="Upload-Image.html#config-picgo-core" id="markdown-toc-config-picgo-core">Config PicGo-Core</a> <ul>
<li><a href="Upload-Image.html#option-1-edit-the-config-file" id="markdown-toc-option-1-edit-the-config-file">Option 1: Edit the config file</a></li>
<li><a href="Upload-Image.html#option-2-config-via-cli" id="markdown-toc-option-2-config-via-cli">Option 2: Config via CLI</a></li>
<li><a href="Upload-Image.html#use-plugins" id="markdown-toc-use-plugins">Use Plugins</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="Upload-Image.html#picgoapp-chinese-language-only" id="markdown-toc-picgoapp-chinese-language-only">PicGo.app (Chinese Language Only)</a> <ul>
<li><a href="Upload-Image.html#difference-between-picgoapp-and-picgo-core-command-line" id="markdown-toc-difference-between-picgoapp-and-picgo-core-command-line">Difference between PicGo.app and PicGo-Core (command line)</a></li>
</ul>
</li>
<li><a href="Upload-Image.html#upgit-open-source--lightweight-native-for-windows--linux--macos" id="markdown-toc-upgit-open-source--lightweight-native-for-windows--linux--macos">Upgit (Open source &amp; lightweight native, for Windows / Linux / macOS)</a></li>
<li><a href="Upload-Image.html#custom" id="markdown-toc-custom">Custom</a> <ul>
<li><a href="Upload-Image.html#use-current-filename--filepath-in-custom-commands" id="markdown-toc-use-current-filename--filepath-in-custom-commands">Use current filename / filepath in custom commands</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="Upload-Image.html#upload-automatically-when-insert-images" id="markdown-toc-upload-automatically-when-insert-images">Upload Automatically When Insert Images</a> <ul>
<li><a href="Upload-Image.html#global-setting" id="markdown-toc-global-setting">Global Setting</a></li>
<li><a href="Upload-Image.html#per-document-setting" id="markdown-toc-per-document-setting">Per-document Setting</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="Upload-Image.html#usage" id="markdown-toc-usage">Usage</a> <ul>
<li><a href="Upload-Image.html#upload-selected-image" id="markdown-toc-upload-selected-image">Upload Selected Image</a></li>
<li><a href="Upload-Image.html#upload-all-local-images" id="markdown-toc-upload-all-local-images">Upload All Local Images</a></li>
</ul>
</li>
<li><a href="Upload-Image.html#troubleshooting" id="markdown-toc-troubleshooting">Troubleshooting</a> <ul>
<li><a href="Upload-Image.html#please-set-an-image-uploader-in-preferences-panel-before-using-this-function" id="markdown-toc-please-set-an-image-uploader-in-preferences-panel-before-using-this-function">“Please set an image uploader in Preferences Panel before using this function.”</a></li>
<li><a href="Upload-Image.html#command-not-find" id="markdown-toc-command-not-find">“command not find”</a></li>
<li><a href="Upload-Image.html#image-upload-failed" id="markdown-toc-image-upload-failed">Image Upload Failed</a></li>
<li><a href="Upload-Image.html#garbled-console-output-on-windows" id="markdown-toc-garbled-console-output-on-windows">Garbled console output on Windows</a></li>
<li><a href="Upload-Image.html#picgo-error-error-api-v1-is-deprecated-please-refer-to-httpsdocsmms-for-v2-api-documentation" id="markdown-toc-picgo-error-error-api-v1-is-deprecated-please-refer-to-httpsdocsmms-for-v2-api-documentation">[PicGo ERROR]: Error: API v1 is deprecated, please refer to https://doc.sm.ms/ for v2 API documentation.</a></li>
<li><a href="Upload-Image.html#fail-to-parse-result-image-path-from" id="markdown-toc-fail-to-parse-result-image-path-from">Fail to parse result image path from</a></li>
<li><a href="Upload-Image.html#eperm-operation-not-permitted-mkdir-upload" id="markdown-toc-eperm-operation-not-permitted-mkdir-upload">EPERM: operation not permitted mkdir “**/upload”</a></li>
</ul>
</li>
<li><a href="Upload-Image.html#migration-from-older-typora-version" id="markdown-toc-migration-from-older-typora-version">Migration from older Typora version</a></li>
</ul>
<h1 id="summary">Summary</h1>
<p>In newer version of Typora (≥ 0.9.9.32 on macOS or 0.9.84 on Windows / Linux), we added a “upload image” function to upload images to a cloud image storage via 3rd apps or scripts.</p>
<p>Its motivation is that, since markdown files is just plain text files, when you embed images, the markdown files does not “own” those images, but just keep a weak reference to used external image files. When you move or share markdown files, those images should also be moved or shared, which brings maintenance costs. But if those images are hosted online, you can move or share markdown files freely without maintaining the reference between text plain and the images it used.</p>
<p>Typora now supports apps like iPic, uPic, PicGo, etc, which is able to upload your images into <a href="http://imgur.com/">Imgur</a>, <a href="https://www.flickr.com/">Flickr</a>,<a href="https://aws.amazon.com/s3/"> Amazon S3</a>, <a href="https://support.typora.io/Upload-Image/www.github.com">Github</a>, or other image hosting services.</p>
<h2 id="warning">Warning!</h2>
<blockquote>
<p>Before you use this feature, please notice that Typora does not own those image uploader apps or cloud storage services, they are all 3rd services, so <strong>please take care about their license, user agreement, privacy policy, service stability and reliability by yourself</strong>.</p>
<p>By using this feature after enabled in preferences panel, Typora will pass the path of used images to those 3rd tools, then they will upload your images to a 3rd (or 4th) cloud image storage, Typora has no control or guarantee over this process, so please pick up a reliable service to ensure your data security.</p>
<p>Besides the privacy and reliability issues, some service may have an expiration time for hosting your images, some service may not provide a “delete” function even after you uploaded sensitive images by accident, and service follows laws that is not in your country, banning certain type of images or users in certain country, etc.</p>
<p>In short, please read their manual then choose the app and service for uploading images.</p>
</blockquote>
<h1 id="configuration">Configuration</h1>
<p>You can enable and config image uploader in preferences panel.</p>
<p><img src="media/image-upload/main.png" alt="main" style="zoom:50%;" /></p>
<p><img src="media/image-upload/test.png" alt="test" style="zoom:50%;" /></p>
<p>After select one option, you may need to download and installed the required app, do simple configuration of which cloud storage you want to host your images on that app, then click “Test Uploader” to test if Typora can upload local images using current service and configuration.</p>
<h2 id="validate-image-uploader">Validate Image Uploader</h2>
<p>By clicking the “Test Uploader” button, Typora will try to upload test images using current configuration, you can see the details, error messages, and final url result after upload on following “Validation” dialog:</p>
<p><img src="media/image-upload/validation&#32;result.png" alt="validation result" style="zoom:50%;" /></p>
<p>If it shows “Validation Failed”, you need to check the reason from the raw output.</p>
<h2 id="image-uploaders">Image Uploaders</h2>
<h3 id="ipic-macos-freemium">iPic (macOS, Freemium)</h3>
<p><img src="media/image-upload/ipic.jpg" alt="ipic" /></p>
<p><a href="https://itunes.apple.com/app/id1101244278">iPic</a> is a <strong>freemium</strong> app which allows you to upload local images into various cloud service, including <a href="http://imgur.com/">Imgur</a>, <a href="https://www.flickr.com/">Flickr</a>,<a href="https://aws.amazon.com/s3/"> Amazon S3</a>, etc, and return you a web url of the uploaded image for public access.</p>
<p><a href="https://itunes.apple.com/app/id1101244278">Download</a></p>
<p><a href="https://github.com/toolinbox/iPic">Document</a> <a href="https://toolinbox.net/iPic/">中文文档</a></p>
<p>To use iPic as the image uploader service, you just need to install iPic app from <a href="https://itunes.apple.com/app/id1101244278">MAS</a> or from their website, then config its image host following instructions <a href="https://github.com/toolinbox/iPic#image-hosts">here</a>. And select “iPic” as “image uploader” in preferences panel of Typora, then you can upload images to preferred cloud image storage using iPic.</p>
<h3 id="upic-macos-opensource">uPic (macOS, OpenSource)</h3>
<p><img src="https://raw.githubusercontent.com/gee1k/oss/master/screenshot/uPic/logo.png" alt="upic" /></p>
<p><a href="https://github.com/gee1k/uPic">uPic</a> is a native, powerful, beautiful and simple picture and file upload tool for macOS.</p>
<p>You could install via Homebrew:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew cask <span class="nb">install </span>upic
</code></pre></div></div>
<p>Or Download from github <a href="https://github.com/gee1k/uPic/releases">release</a>.</p>
<p>To use uPic as the image uploader service, you just need to install iPic app from the instructions above, then config its image host following instructions <a href="https://blog.svend.cc/upic/en/">here</a>. And select “uPic” as “image uploader” in preferences panel of Typora, then you can upload images to preferred cloud image storage using uPic.</p>
<p>uPic also has a detailed English <a href="https://blog.svend.cc/upic/en/">Document</a>.</p>
<h3 id="picsee-macos-freemium">Picsee (macOS, Freemium)</h3>
<p><img src="media/image-upload/picsee.png" alt="logo" /></p>
<p><a href="https://enpicsee.chitaner.com/">Picsee</a> is an image viewer &amp; organizer on macOS.</p>
<p>You could install it from <a href="https://apps.apple.com/app/id1454805783">Mac App Store</a>. To configure Picsee to upload your images, please refer:</p>
<p><a href="https://enpicsee.chitaner.com/blog/Typora_imageCloud_config.html">Document</a> <a href="https://picsee.chitaner.com/blog/Typora_imageCloud_config.html">中文文档</a></p>
<h3 id="picgo-core-command-line-opensource">PicGo-Core (Command line) (OpenSource)</h3>
<p><a href="https://github.com/PicGo/PicGo-Core">PicGo-Core</a> is an open source node module that supports picture uploading. It also supports plugins to extend its functionality.</p>
<p>Since it is a node module, we provide two ways to install and use it.</p>
<h4 id="install-prebuilt-binary-of-picgo-core-linux--windows">Install prebuilt binary of PicGo-Core (Linux / Windows)</h4>
<p>Typora provide a prebuilt binary of PicGo using nexe to packing the node module into one-file binary. You could just click the “Download” button to install the PicGo binary, and Typora will start downloading and put it under Typora’s support folder directly.</p>
<details>
<summary><a name="picgo-location"></a>Location of downloaded PicGo-Core binary</summary>
The binary will be put under "%AppData/Typora/picgo", ""%AppData" is ""~/.config" on Linux and "C:/User/[username]/Roaming/AppData" on Windows. You could also try click "open theme folder" in Typora's preferences panel, then open its parent folder, which will contains the "picgo" folder.
</details>
<p>Due to the security rule of macOS Catalina, the prebuilt binary is not functionally on Catalina, so you may try the following option:</p>
<h4 id="install-picgo-core-via-node-package-manager-requires-nodejs-runtime">Install PicGo-Core via node package manager (Requires NodeJS runtime)</h4>
<p>If you have node or yarn installed, you cloud run following commands in terminal.</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>picgo <span class="nt">-g</span>

<span class="c"># or</span>

yarn global add picgo
</code></pre></div></div>
<p>Then you can input “which picgo” in terminal to get its actual installed location, then, select “Custom Command” as the “Image Uploader” function and input “[your node path] [your picgo-core path] upload” as the command. If you have “node” and “picgo” installed in system PATH directly, you could also fill “picgo upload” as the custom command directly.</p>
<p><img src="media/image-upload/install-picgo.png" alt="install-picgo" style="zoom:50%;" /></p>
<p><img src="media/image-upload/custom.png" alt="custom" style="zoom:50%;" /></p>
<h4 id="config-picgo-core">Config PicGo-Core</h4>
<h5 id="option-1-edit-the-config-file">Option 1: Edit the config file</h5>
<p>Please edit <code class="language-plaintext highlighter-rouge">config.json</code> at following location</p>
<ul>
<li>Linux / macOS → <code class="language-plaintext highlighter-rouge">~/.picgo/config.json</code>.</li>
<li>Windows → <code class="language-plaintext highlighter-rouge">C:\Users\[your user name]\.picgo\config.json</code>.</li>
</ul>
<p>For details, please refer to <a href="https://picgo.github.io/PicGo-Core-Doc/zh/guide/config.html#%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">this document (Chinese Only)</a>.</p>
<h5 id="option-2-config-via-cli">Option 2: Config via CLI</h5>
<p>If you installed pico-core via node, please input <code class="language-plaintext highlighter-rouge">picgo -h</code> to show help of picgo, and do configuration follow its help.</p>
<p>If you used the prebuilt binary of PicGo-Core installed from Typora’s preferences panel, please find the binary from the folder (see instructions <a href="Upload-Image.html#picgo-location">here</a>), then open the folder in terminal, and do configurations via (<code class="language-plaintext highlighter-rouge">./picgo -h</code>).</p>
<p>You can find its CLI usage in https://github.com/PicGo/PicGo-Core#use-in-cli.</p>
<h5 id="use-plugins">Use Plugins</h5>
<p>You can use the cli interface to install plugins of PicGo-Core.</p>
<h3 id="picgoapp-chinese-language-only">PicGo.app (Chinese Language Only)</h3>
<p><img src="https://raw.githubusercontent.com/Molunerfinn/test/master/picgo/New%20LOGO-150.png" alt="picgo" /></p>
<p><a href="https://picgo.github.io/PicGo-Doc/zh/">PicGo</a> is an GUI app built from PicGo-Core. Since it only provides a Chinese user interface, you will find this option only when your Typora is using Simplified Chinese language.</p>
<p>To use with Typora, we require PicGo ≥ 2.2.0 with <a href="https://picgo.github.io/PicGo-Doc/zh/guide/config.html#picgo-server%E8%AE%BE%E7%BD%AE">PicGo-Server</a> enabled and use port in default value (36677). And when Typora upload images using PicGo, PicGo will be launched and kept running.</p>
<p>For Linux / Windows users, please set the path of PicGo binary in Typora’s preferences setting after install it.</p>
<p><img src="media/image-upload/picgo.PNG" alt="picgo" /></p>
<h4 id="difference-between-picgoapp-and-picgo-core-command-line">Difference between PicGo.app and PicGo-Core (command line)</h4>
<ul>
<li>Currently PicGo (app) is Chinese only.</li>
<li>PicGo.app provides a GUI, and therefore more easy to setup compared with the CLI version.</li>
<li>Upload using PicGo-Core (command line) costs less computing resources, because the process will only be running during the uploading process, and will exit after uploading succeed or failed. While uploading via PicGo.app, PicGo.app will be always kept running can not exit automatically. Also, PicGo.app is an electron app, which eats more computing resources.</li>
<li>PicGo.app and PicGo-Core use different config files, but you can copy the json object under <code class="language-plaintext highlighter-rouge">picBed</code> key in the config file of PicGo.app into PicGo’s config file.</li>
<li>PicGo.app provides other features, like upload history, auto rename, etc.</li>
</ul>
<h3 id="upgit-open-source--lightweight-native-for-windows--linux--macos">Upgit (Open source &amp; lightweight native, for Windows / Linux / macOS)</h3>
<p><img src="https://cdn.jsdelivr.net/gh/pluveto/upgit/logo.png" alt="upgit" /></p>
<p><a href="https://github.com/pluveto/upgit">Upgit</a> is a native &amp; lightweight tool to help you upload images to a github repository.</p>
<p>Usage:</p>
<p>(1) Download it from <a href="https://github.com/pluveto/upgit/releases">Release</a>.</p>
<p>(2) Rename it to <code class="language-plaintext highlighter-rouge">upgit</code> (For Windows users, <code class="language-plaintext highlighter-rouge">upgit.exe</code>), save it to somewhere you like.</p>
<p>(3) Configure it with <code class="language-plaintext highlighter-rouge">~/.upgit.config.toml</code> or <code class="language-plaintext highlighter-rouge">[UPGIT_DIRECTORY]/config.toml</code> in following <a href="https://github.com/pluveto/upgit/blob/main/config.sample.toml">this sample config file</a>.</p>
<p>(4) Select <em>File &gt; Preferences…</em></p>
<p><img src="https://cdn.jsdelivr.net/gh/pluveto/0images@master/2022/01/upgit_20220128_1643373863.png" alt="image-20220128204217802" /></p>
<p>Move to <em>Image</em>. Choose <em>Custom Command</em> as your <em>Image Uploader</em>.</p>
<p>Input <em>upgit</em> program location into <em>Command</em> textbox.</p>
<p><img src="https://cdn.jsdelivr.net/gh/pluveto/0images@master/2022/01/upgit_20220128_1643373868.png" alt="image-20220128204418723" /></p>
<p>Now enjoy it!</p>
<h3 id="custom">Custom</h3>
<p>You could config a custom command to upload images, using tools that is not listed in above options, or even write your own tools / scripts. Typora will append all images that needs to be uploaded after the custom command you filled.</p>
<p>Then, Typora will fetch image urls from the last N lines of the standard output of your custom command. (N is the number of images to upload).</p>
<p>For example, if you write a tool <code class="language-plaintext highlighter-rouge">upload-image.sh</code>, then you can input <code class="language-plaintext highlighter-rouge">[some path]/upload-image.sh</code> in the command filed. Typora will call <code class="language-plaintext highlighter-rouge">[some path]/upload-image.sh "image-path-1" "image-path-2"</code> to upload two images located in <code class="language-plaintext highlighter-rouge">image-path-1</code> and <code class="language-plaintext highlighter-rouge">image-path-2</code>. Then the command may return something like:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Upload Success:
http://remote-image-1.png
http://remote-image-2.png
</code></pre></div></div>
<p>Then Typora will get the two remote image url from the output, and replace the original local images used in the Markdown document.</p>
<p>You could click the “Test Uploader” button to verify your custom commands.</p>
<h4 id="use-current-filename--filepath-in-custom-commands">Use current filename / filepath in custom commands</h4>
<p>You can use <code class="language-plaintext highlighter-rouge">${filename}</code> and <code class="language-plaintext highlighter-rouge">${filepath}</code> in your custom commands, they will be replace as the current markdown file name and current file path. For “untitled” files that have not been saved on your disk, they will be empty strings.</p>
<h2 id="upload-automatically-when-insert-images">Upload Automatically When Insert Images</h2>
<h4 id="global-setting">Global Setting</h4>
<p>User can tell Typora to upload images automatically when insert (including insert image from menu, Touch Bar, via copy &amp; paste or drag &amp; drop). To enable this feature, please select “Upload Image” under “When Insert…” options like following screenshot suggests.</p>
<p>Then, if you want the “auto upload” only applies to local images, please only check <code class="language-plaintext highlighter-rouge">Apply above rules to local images</code>, if you also want to re-upload images that is already hosting on remote website, you can also check <code class="language-plaintext highlighter-rouge">Apply above rules to online images</code>.</p>
<p><img src="media/image-upload/auto-upload.png" alt="auto-upload" style="zoom:50%;" /></p>
<h4 id="per-document-setting">Per-document Setting</h4>
<p>Firstly, please enable <code class="language-plaintext highlighter-rouge">Allow upload images automatically based on YAML settings</code> in preferences panel.</p>
<p>Then if your Markdown file contains following config in YAML front matter, Typora will use this option to upload images automatically when insert image:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">typora-copy-images-to</span><span class="pi">:</span> <span class="s">upload</span>
</code></pre></div></div>
<p>You could also click menu → <code class="language-plaintext highlighter-rouge">Format</code> → <code class="language-plaintext highlighter-rouge">Image</code> → <code class="language-plaintext highlighter-rouge">When insert local image…</code> → <code class="language-plaintext highlighter-rouge">Upload Image</code> to insert this YAML front matter and enable this behavior.</p>
<p><img src="media/image-upload/menu.png" alt="menu" style="zoom:50%;" /></p>
<h1 id="usage">Usage</h1>
<h2 id="upload-selected-image">Upload Selected Image</h2>
<p>You could right click on an image, and click “Upload Image” to upload selected image using the app configured in preferences panel.</p>
<p><img src="media/image-upload/upload.gif" alt="upload" style="zoom:50%;" /></p>
<h2 id="upload-all-local-images">Upload All Local Images</h2>
<p>If your Markdown files contains lots of local images, and you want to upload all of them in one click, you could click menu → <code class="language-plaintext highlighter-rouge">Format</code> → <code class="language-plaintext highlighter-rouge">Image</code> → <code class="language-plaintext highlighter-rouge">Upload All Local Images</code> to upload all local images.</p>
<h1 id="troubleshooting">Troubleshooting</h1>
<h4 id="please-set-an-image-uploader-in-preferences-panel-before-using-this-function">“Please set an image uploader in Preferences Panel before using this function.”</h4>
<p>In order to make “image upload” functional, you must set an image uploader in Preferences Panel following the <a href="Upload-Image.html#configuration">configuration</a> section.</p>
<h4 id="command-not-find">“command not find”</h4>
<p>If you sent custom command for example “node upload-image xxx” to upload file, you may met error with message “/bin/bash xxx command not find”, that is because your custom command binary is not in your system path.</p>
<p>For example, if the error message is “node command not find”, then please use <code class="language-plaintext highlighter-rouge">which node</code> in terminal to decide your node path, then replace <code class="language-plaintext highlighter-rouge">node</code> with fulle <code class="language-plaintext highlighter-rouge">node</code> path.</p>
<h4 id="image-upload-failed">Image Upload Failed</h4>
<p>When upload image failed, Typora will print the error message when calling the 3rd app you configured as image upload provider. You could find the cause from the error message.</p>
<p>If you cannot know the cause, you could try validate the image upload option by clicking the “Test Uploader” button in preferences panel, and if it success or not. Also, you may try if you upload images using those app without Typora, and check if it can succeed or not.</p>
<p>If you find those app cannot upload images successfully, you could contact to their maintainer for further support.</p>
<h4 id="garbled-console-output-on-windows">Garbled console output on Windows</h4>
<p>If you use, custom command, and after clicking “Test Uploader” button in preferences panel, and its console output is Garbled characters, you may try to force the process to use UTF8 encoding, by prepending <code class="language-plaintext highlighter-rouge">@chcp 65001 &gt;nul &amp; cmd /d/s/c </code> before your custom command.</p>
<h4 id="picgo-error-error-api-v1-is-deprecated-please-refer-to-httpsdocsmms-for-v2-api-documentation">[PicGo ERROR]: Error: API v1 is deprecated, please refer to https://doc.sm.ms/ for v2 API documentation.</h4>
<p>It is caused by PicGo’s support issue of its default image hosting service: sm.ms, please refer <a href="https://github.com/PicGo/PicGo-Core/issues/30">PicGo/PicGo-Core#30</a>, or use other image service other than the default one</p>
<h4 id="fail-to-parse-result-image-path-from">Fail to parse result image path from</h4>
<p>Like <a href="https://github.com/typora/typora-issues/issues/3309">#3309</a>, Typora requires the return url of an image to start with <code class="language-plaintext highlighter-rouge">http://</code>, <code class="language-plaintext highlighter-rouge">https://</code>, or <code class="language-plaintext highlighter-rouge">file://</code>. Other protocols are not supported. Also, in HTML / Markdown, image <code class="language-plaintext highlighter-rouge">src</code> without protocols, are treated like relative path.</p>
<h4 id="eperm-operation-not-permitted-mkdir-upload">EPERM: operation not permitted mkdir “**/upload”</h4>
<p>This should be fixed in 0.9.87, please upgrade Typora.</p>
<h1 id="migration-from-older-typora-version">Migration from older Typora version</h1>
<p>In older version of Typora on macOS, we only provide the integration with “ipic”. So if your older Markdown document contains</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">typora-copy-images-to</span><span class="pi">:</span> <span class="s">ipic</span>
</code></pre></div></div>
<p>Typora will still use <code class="language-plaintext highlighter-rouge">ipic</code> to upload images in this file, you could update the behavior by changing into <code class="language-plaintext highlighter-rouge">typora-copy-images-to: upload</code>.</p>
</div>
</div>
<footer id="post-footer" style="
        background-color: rgb(51, 51, 51);
        padding-top: 50px;
        padding-bottom: 50px;
        text-align: center;
        font-size: 13px;
      ">
<a data-has-mirror href="https://store.typora.io">Get Typora</a> /
<a href="https://github.com/typora/wiki-website">Help Improve our documents</a
      >
</footer>
<script>
      var backBtn = document.querySelector("#title-bar-feature-btn");
      if (backBtn) {
        backBtn.onclick = function (event) {
          if (
            window.history.length > 1 &&
            document.referrer.indexOf(window.location.host) !== -1
          ) {
            console.log(" window.history.back");
            event.preventDefault();
            window.history.back();
          }
        };
      }
      if (location.host == "support.typoraio.cn" || location.host == "support.typora.com.cn") {
        document.querySelectorAll("[data-has-mirror]").forEach((a) => {
          var href = a.href;
          if (href.indexOf("store.typora.io") > 0)
            href = "https://typoraio.cn/";
          else if (href.indexOf("https://typora.io") > -1)
            href = "https://typoraio.cn/";
          else href = href.replace("typora.io", "typoraio.cn");
          a.href = href;
        });
      }
    </script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script>
      (function (i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r;
        (i[r] =
          i[r] ||
          function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(
        window,
        document,
        "script",
        "https://www.google-analytics.com/analytics.js",
        "ga"
      );

      ga("create", "UA-56771470-2", "auto");
      ga("set", "page", "/support");
      ga("send", "pageview");
    </script>

<script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ed23a5bcf8c017f"></script>

</body>
</html>
